extends layout

block stylesheets
	link(rel="stylesheet", href="/stylesheets/style.css")

block scripts
	include includes/scripts

block content
	.module.instrument
			p instrument
	.module.tools
		.utils
			button.add-block add block
			button.zoom-in zoom in
			button.zoom-out zoom out
			p.export
				label export as: 
				input(name='password', type='text')
				button(type='submit').export-button BANG!
		.player
			p fr√®re jacques...
			button.play play
			button.pause pause
			button.stop stop
	.module.editor
		.layer-info-win
			.layer-info
		.piano-win
			.piano
		.grid-win
			.grid

// TEMPLATE
block template
	script#layer-template(type="text/template")
		<% for (var o=octave; o>0; o--) { %>
		<% _.each(pitches, function(pitch, i) { %>
		<% var midiPitch = ((12*(o+1))+(pitches.length-(i+1))); %>
		<div class="pitch <%= pitch %><%= o %> p-<%= midiPitch %>">
		<% for (var n=1; n<=sub; n++) { %>
		<% var cellId = block+"-"+sub+"-"+midiPitch+"-"+n; %>
		<% var on = _.indexOf(cellOn, cellId) === -1 ? "" : " on"; %>
		<div id="<%= cellId %>" class="cell sc-<%= n %><%= on %>"></div>
		<% }; %>	
		</div>
		<% }); %>
		<% }; %>


	script#layer-info-template(type="text/template")
		ul.layer-list
			<% _.each(layers, function(layer) { %>
			li
				button.edit-layer <%= layer.get("sub") %>
			<% }); %>
			li
				input.add-layer(type="text", placeholder=" +")
		